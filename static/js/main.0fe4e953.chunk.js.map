{"version":3,"sources":["panel/flow.tsx","panel/graphql.ts","panel/flowrun.tsx","panel/graph/nodewrapper.tsx","panel/graph/tasknode.tsx","panel/graph/channelnode.tsx","panel/graph/operatornode.tsx","panel/graph/graphview.tsx","panel/show/graph.tsx","panel/show/logs.tsx","panel/show/taskruns.tsx","panel/show/tasks.tsx","panel/show/show.tsx","panel/flowruns.tsx","panel/path.tsx","panel/flows.tsx","panel/main.tsx","panel/header.tsx","panel/theme.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useStyles","makeStyles","theme","createStyles","Flow","flow","setFlow","activeFlow","className","id","Box","height","onClick","name","GET_FLOWS","gql","GET_FLOWRUNS","GET_TASKRUNS_STATE_ONLY","GET_TASKRUNS","GET_RUNLOGS","root","width","FlowRun","flowrun","setFlowRun","activeFlowrun","getHandleLayoutStyles","num","isLeft","sep","styles","top","i","push","NodeWrapper","props","data","children","isCircle","task","inputStyles","input","length","InputHandles","map","ch_id","index","type","position","Position","Left","style","background","outputStyles","output","OutputHandles","ch","Right","borderRadius","padding","memo","useTaskRunsStyles","overflow","flexWrap","justifyContent","color","opacity","textAlign","display","flexDirection","alignItems","TaskRunsPanel","classes","useQuery","variables","flowrun_id","task_id","loading","error","stopPolling","startPolling","useEffect","stateCounts","Array","fill","stateMap","Map","get_taskruns","state","state_type","has","set","count","get","forEach","value","key","Grid","container","direction","runState","Typography","variant","marginLeft","marginRight","LinearProgress","Skeleton","TaskNode","useStoreState","transform","showContent","label","replace","ChannelNode","OperatorNode","controls","left","zIndex","connectionLineStyle","stroke","nodeTypes","taskNode","operatorNode","channelNode","dagreGraph","graphlib","Graph","setDefaultEdgeLabel","getLayoutedElements","elements","isHorizontal","setGraph","rankdir","el","isNode","setNode","setEdge","source","target","layout","nodeWithPosition","node","targetPosition","Top","sourcePosition","Bottom","x","Math","random","y","GraphView","useState","flowInstance","setFlowInstance","setElements","tasks","edges","input_channels","ch_task_map","task_input_map","edge","channel_id","output_task_input","output_task_input_id","sourceHandle","targetHandle","animated","nodes","is_operator","context","task_config","startsWith","resolve_flow","layoutedElements","fitView","onConnect","useCallback","params","onLoad","onLayout","connectionLineType","ConnectionLineType","SmoothStep","snapToGrid","snapGrid","defaultZoom","onlyRenderVisibleElements","nodeStrokeColor","n","nodeColor","lineHeight","whiteSpace","textOverflow","GridCellExpand","React","wrapper","useRef","cellDiv","cellValue","anchorEl","setAnchorEl","showFullCell","setShowFullCell","showPopper","setShowPopper","document","addEventListener","handleKeyDown","removeEventListener","nativeEvent","ref","onMouseEnter","isCurrentlyOverflown","isOverflown","current","onMouseLeave","Popper","open","Paper","elevation","minHeight","offsetHeight","overflowWrap","columns","field","headerName","flex","renderCell","toString","hide","Filter","LogsPanel","rows","get_runlogs","autoHeight","components","Toolbar","GridToolbar","DUMMY_TASKRUNS","taskrunsPanel","panel","grid","overflowY","gridItem","TaskRun","taskrun","activeTaskrun","setTaskrun","TaskRuns","taskruns","wrap","item","curTaskrun","tasksPanel","useTaskStyles","Task","setTask","activeTask","Tasks","filter","TasksPanel","curTask","split","defaultSize","maxSize","minSize","TabPanel","other","role","hidden","aria-labelledby","a11yProps","flexGrow","backgroundColor","palette","paper","ShowPanel","setValue","AppBar","Tabs","onChange","event","newValue","Tab","flowrunsPanel","FlowRuns","flowruns","setFlowrun","console","log","FlowRunsPanel","curFlowrun","StyledBreadcrumb","withStyles","grey","spacing","fontWeight","typography","fontWeightRegular","boxShadow","shadows","emphasize","Chip","Path","pathList","Breadcrumbs","path","component","href","link","icon","DUMMY_FLOWRUNS","defaultPathList","flowsPanel","Flows","flows","flow_ids","flow_id","FlowsPanel","curFlow","get_flowruns","DUMMY_FLOWS","Main","pollInterval","get_flows","useServerChooserStyles","iconButton","divider","margin","useHeaderStyles","menuButton","title","ServerChooser","server","setServer","inputServer","setInputServer","IconButton","InputBase","placeholder","defaultValue","e","Divider","orientation","Header","createMuiTheme","primary","main","secondary","fontSize","App","client","ApolloClient","uri","cache","InMemoryCache","ThemeProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0fe4e953.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../style/App.css\"\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\"\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({})\n)\n\n\n// @ts-ignore\nfunction Flow({flow, setFlow, activeFlow}) {\n  const classes = useStyles()\n  let className = `tensorsite-card ${activeFlow && (activeFlow.id === flow.id) ? \"active\" : \"\"}`\n  return (\n    <Box className={className} height=\"100px\">\n      <Box className=\"tensorsite-content\" height=\"100%\" onClick={() => setFlow(flow)}>\n        {flow.name}\n      </Box>\n    \n    </Box>\n  )\n}\n\nexport default Flow;","import {gql} from \"@apollo/client\";\n\n\n// exclude flowruns\nexport const GET_AGENTS = gql`\n    query {\n        get_agents {\n            id\n            name\n            labels\n            address\n        }\n    }\n`\n\n// exclude flowruns\nexport const GET_FLOWS = gql`\n    query($input: GetFlowsInput!) {\n        get_flows(input: $input) {\n            id\n            name\n            full_name\n            labels\n            tasks {\n                id\n                name\n                full_name\n                labels\n                flow_id\n                output {\n                    id\n                    task_id\n                    flow_id\n                }\n                docstring\n                context\n            }\n            edges {\n                channel_id\n                task_id\n            }\n            docstring\n            serialized_flow\n            context\n        }\n    }\n`\n\n// exclude taskruns\nexport const GET_FLOWRUNS = gql`\n    query($input: GetFlowRunsInput!) {\n        get_flowruns(input: $input) {\n            id\n            agent_id\n            flow_id\n            name\n            labels\n            context\n            state {\n                state_type\n                result\n                message\n            }\n            start_time\n            end_time\n            last_heartbeat\n        }\n    }\n`\n\nexport const GET_TASKRUNS_STATE_ONLY = gql`\n    query($input: GetTaskRunsInput!) {\n        get_taskruns(input: $input) {\n            id\n            state {\n                state_type\n            }\n        }\n    }\n`\n\nexport const GET_TASKRUNS = gql`\n    query($input: GetTaskRunsInput!) {\n        get_taskruns(input: $input) {\n            id\n            flowrun_id\n            agent_id\n            task_id\n            context\n            start_time\n            end_time\n            last_heartbeat\n            state {\n                state_type\n                result\n                message\n            }\n        }\n    }\n`\nexport const GET_RUNLOGS = gql`\n    query($input: GetRunLogsInput!) {\n        get_runlogs(input: $input) {\n            id\n            level\n            time\n            message\n            task_id\n            flow_id\n            taskrun_id\n            flowrun_id\n            agent_id\n        }\n    }\n`\n\nexport const UPDATE_FLOWRUN = gql`\n    mutation($input: FlowRunInput!) {\n        update_flowrun(input: $input) {\n            id\n        }\n    }\n`","import React from \"react\";\nimport {Box, createStyles, makeStyles, Theme} from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: '100px',\n      width: \"100%\"\n    }\n  })\n)\n\n// @ts-ignore\nfunction FlowRun({flowrun, setFlowRun, activeFlowrun}) {\n  const classes = useStyles()\n  let className = `tensorsite-card ${activeFlowrun && (activeFlowrun.id === flowrun.id) ? \"active\" : \"\"}`\n  return (\n    <Box className={className} height=\"100px\">\n      <Box className=\"tensorsite-content\" onClick={() => setFlowRun(flowrun)}>\n        {flowrun.name}\n      </Box>\n    </Box>\n  )\n}\n\n\nexport default FlowRun;","import React, {memo} from \"react\";\n\nimport {Box} from \"@material-ui/core\"\nimport {Handle, Position} from \"react-flow-renderer\";\n\n// TODO NodeWrapper is aimed for automatically layout input and output handles\n// TODO Now only rectangular are supported\n\n\nfunction getHandleLayoutStyles(width: number, height: number, num: number, isLeft: boolean) {\n  if (num <= 0) return []\n  num += 1\n  const sep = height / num;\n  let styles = []\n  let top = 0, left = isLeft ? 0 : width;\n  for (let i = 0; i < num; i++) {\n    top += sep;\n    styles.push({\n      top: top,\n      // left: left\n    })\n  }\n  \n  return styles;\n}\n\n// @ts-ignore\nfunction NodeWrapper(props) {\n  let {\n    data,\n    children,\n    className,\n    width = 100,\n    height = 100,\n    isCircle = false,\n  } = props;\n  const task = data;\n  const inputStyles = getHandleLayoutStyles(width, height, task.input.length, true)\n  const InputHandles = (\n    task.input.map((ch_id: string, index: number) => (\n      <Handle\n        key={ch_id}\n        type=\"target\"\n        id={ch_id}\n        position={Position.Left}\n        style={{background: \"red\", ...inputStyles[index]}}\n      />\n    ))\n  );\n  const outputStyles = getHandleLayoutStyles(width, height, task.output.length, false)\n  const OutputHandles = (\n    task.output.map((ch: any, index: number) => (\n      <Handle\n        key={ch.id}\n        type=\"source\"\n        position={Position.Right}\n        id={ch.id}\n        style={{background: \"blue\", ...outputStyles[index]}}\n      />\n    ))\n  );\n  \n  return (\n    <Box className={className} height={height} width={width}\n         style={{borderRadius: isCircle ? \"50%\" : \"1%\", padding: 0}}>\n      {InputHandles}\n      {children}\n      {OutputHandles}\n    </Box>\n  )\n}\n\n\nexport default memo(NodeWrapper);","import React, {useEffect} from 'react'\n\nimport {useStoreState} from 'react-flow-renderer'\nimport {Box, createStyles, Grid, makeStyles, Theme, Typography} from \"@material-ui/core\";\nimport NodeWrapper from \"./nodewrapper\"\nimport {useQuery} from \"@apollo/client\";\nimport {GET_TASKRUNS_STATE_ONLY} from \"../graphql\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\n\nconst useTaskRunsStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"5px\",\n      width: \"100%\",\n      overflow: \"hidden\",\n      flexWrap: \"nowrap\",\n      justifyContent: \"start\",\n      height: \"80px\", // any better way?\n    }\n  })\n);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"5px\",\n      color: \"white\",\n      background: \"#3474e0\",\n      opacity: 0.8,\n      borderRadius: \"10%\",\n      textAlign: \"center\",\n      overflow: \"hidden\",\n      display: \"flex\",\n      flexDirection: 'column',\n      alignItems: 'start',\n      justifyContent: 'center',\n    }\n  })\n);\n\n\n// @ts-ignore\nfunction TaskRunsPanel({task}) {\n  const classes = useTaskRunsStyles()\n  // polling wont's top even after unmounted. https://github.com/apollographql/apollo-client/issues/6391\n  const {loading, error, data, stopPolling, startPolling} = useQuery(GET_TASKRUNS_STATE_ONLY, {\n    variables: {\n      input: {\n        flowrun_id: [task.flowrun_id],\n        task_id: [task.id]\n      },\n    },\n    // pollInterval: 2000,\n  });\n  useEffect(() => {\n    startPolling(2000);\n    return () => {\n      stopPolling()\n    }\n  }, []);\n  \n  \n  let stateCounts = [];\n  if (loading || error) {\n    stateCounts = Array(5).fill(null)\n  } else {\n    let stateMap = new Map();\n    for (let taskrun of data.get_taskruns) {\n      const state = taskrun.state.state_type\n      if (!stateMap.has(state)) {\n        stateMap.set(state, {\n          state: state,\n          count: 0,\n        })\n      }\n      let state_info = stateMap.get(state)\n      state_info.count += 1\n    }\n    stateMap.forEach((value, key) => {\n      stateCounts.push(value);\n    })\n  }\n  // console.log(stateCounts)\n  \n  return (\n    <Grid container direction={\"column\"} className={classes.root}>\n      {stateCounts.map((runState: any, index: number) => (\n          runState ? (\n            <Box key={runState.state} width={\"100%\"} display={\"flex\"} alignItems={\"center\"} justifyContent={\"center\"}>\n              <Box>\n                <Typography variant={\"subtitle2\"}>{runState.count}</Typography>\n              </Box>\n              <Box style={{marginLeft: 5, marginRight: 5}}>\n                <LinearProgress style={{height: 8, width: 15}}/>\n              </Box>\n              <Box>\n                <Typography variant={\"subtitle2\"}>{runState.state}</Typography>\n              </Box>\n            </Box>\n          ) : (\n            <Box key={index} width={\"100%\"} display={\"flex\"} alignItems={\"center\"}>\n              <Skeleton variant=\"circle\" height={\"9px\"} width={\"9px\"}/>\n              <Skeleton variant=\"text\" width={\"100%\"}/>\n            </Box>\n          )\n        )\n      )}\n    </Grid>\n  )\n}\n\n// @ts-ignore\nfunction TaskNode(props) {\n  const classes = useStyles()\n  const [, , zoom] = useStoreState((state) => state.transform);\n  const showContent = zoom >= 1.5;\n  \n  const {data} = props;\n  const {width, height} = data;\n  const task = data;\n  \n  const label = task.name.replace(\"Operator\", \"\").replace(/\\[.*\\]/g, '')\n  return (\n    <NodeWrapper {...props} className={`${classes.root} nowheel`} height={height} width={width}>\n      <Box width={\"100%\"}>\n        <Box>\n          <Typography variant={\"h5\"}>\n            {label}\n          </Typography>\n        </Box>\n        <Box>\n          {\n            (showContent && data.flowrun_id) ?\n              <TaskRunsPanel task={task}/>\n              : \"\"\n          }\n        </Box>\n      </Box>\n    </NodeWrapper>\n  )\n}\n\nexport default TaskNode;","import {Box, createStyles, makeStyles, Theme, Typography} from \"@material-ui/core\"\nimport {Handle, Position} from \"react-flow-renderer\";\nimport React, {memo} from \"react\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      color: \"white\",\n      background: \"#455064\",\n      borderRadius: \"10%\",\n      textAlign: \"center\",\n      overflow: \"hidden\",\n      display: \"flex\",\n      flexDirection: 'column',\n      alignItems: 'start',\n      justifyContent: 'center'\n    }\n  })\n);\n\n// @ts-ignore\nfunction ChannelNode({id, data}) {\n  const {width, height} = data;\n  const classes = useStyles()\n  return (\n    <Box className={classes.root} height={`${height}px`} width={`${width}px`}>\n      <Box width={\"100%\"}>\n        <Typography>\n          Channel\n        </Typography>\n      </Box>\n      <Handle\n        type=\"source\"\n        position={Position.Right}\n        id={id}\n        style={{background: \"blue\"}}\n      />\n    \n    </Box>\n  )\n}\n\n\nexport default memo(ChannelNode);","import React, {memo} from \"react\"\nimport {Box, createStyles, makeStyles, Theme, Typography} from \"@material-ui/core\";\nimport NodeWrapper from \"./nodewrapper\"\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"5px\",\n      color: \"white\",\n      background: '#ff6f00',\n      borderRadius: \"10%\",\n      textAlign: \"center\",\n      overflow: \"hidden\",\n      display: \"flex\",\n      flexDirection: 'column',\n      alignItems: 'start',\n      justifyContent: 'center',\n    }\n  })\n);\n\n// @ts-ignore\nfunction OperatorNode(props) {\n  const classes = useStyles()\n  \n  const {data, isCircle = false} = props;\n  const {width, height} = data;\n  const task = data;\n  \n  const label = task.name.replace(\"Operator\", \"\").replace(/\\[.*\\]/g, '')\n  \n  return (\n    <NodeWrapper {...props} isCircle={isCircle} className={classes.root} width={width} height={height}>\n      <Box width={\"100%\"} overflow={\"hidden\"}>\n        <Typography>{label}</Typography>\n      </Box>\n    </NodeWrapper>\n  )\n}\n\nexport default memo(OperatorNode)","import React, {useCallback, useEffect, useState} from \"react\";\nimport ReactFlow, {\n  ConnectionLineType,\n  ControlButton,\n  Controls,\n  isNode,\n  MiniMap,\n  Position,\n  ReactFlowProvider\n} from 'react-flow-renderer';\n\nimport {Box, createStyles, makeStyles, Theme} from \"@material-ui/core\";\nimport VerticalSplitIcon from '@material-ui/icons/VerticalSplit';\nimport HorizontalSplitIcon from '@material-ui/icons/HorizontalSplit';\n\n\nimport {graphlib, layout} from 'dagre';\n\nimport TaskNode from \"./tasknode\";\nimport ChannelNode from \"./channelnode\"\nimport OperatorNode from \"./operatornode\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    controls: {\n      position: \"relative\",\n      top: \"10px\",\n      left: \"10px\",\n      zIndex: 99999999999,\n    }\n  })\n)\n\nconst connectionLineStyle = {stroke: '#fff'};\nconst nodeTypes = {\n  taskNode: TaskNode,\n  operatorNode: OperatorNode,\n  channelNode: ChannelNode\n};\n\n\nfunction resolve_flow(flow: any, flowrun: any) {\n  if (!flow) return []\n  const tasks: any = [...flow.tasks]\n  const edges: any = []\n  const input_channels: any = []\n  \n  let ch_task_map = new Map()\n  tasks.forEach((task: any) => {\n    task.output.forEach((ch: any) => {\n      // @ts-ignore\n      ch_task_map.set(ch.id, task.id)\n    })\n  })\n  \n  let task_input_map = new Map()\n  \n  // @ts-ignore\n  flow.edges.forEach((edge, index) => {\n    const channel_id: String = edge.channel_id\n    const task_id: String = edge.task_id\n    // add reverse link\n    if (!task_input_map.has(task_id)) {\n      task_input_map.set(task_id, [])\n    }\n    let output_task_input = task_input_map.get(task_id)\n    const output_task_input_id = `${channel_id}-${output_task_input.length}`\n    output_task_input.push(output_task_input_id)\n    \n    // channel-task\n    if (!ch_task_map.get(channel_id)) {\n      ch_task_map.set(channel_id, channel_id);\n      input_channels.push({\n        id: channel_id,\n        type: 'channelNode',\n        data: {\n          label: \"Input Channel\",\n          width: 50,\n          height: 25\n        },\n        position: {x: 0, y: 0},\n        sourcePosition: \"right\",\n      })\n    }\n    // task-task\n    // @ts-ignore\n    edges.push({\n      id: `${channel_id}|${task_id}|${index}`,\n      source: ch_task_map.get(channel_id),\n      target: task_id,\n      sourceHandle: channel_id,\n      targetHandle: output_task_input_id,\n      animated: true,\n    })\n    \n  })\n  const nodes = tasks.map((task: any) => {\n    const name = task.context.task_config.name;\n    const is_operator = name.startsWith(\"Operator\")\n    return {\n      id: task.id,\n      type: is_operator ? \"operatorNode\" : \"taskNode\",\n      data: {\n        ...task,\n        input: task_input_map.get(task.id) || [],\n        width: is_operator ? 40 : 80,\n        height: is_operator ? 40 : 120,\n        flowrun_id: (is_operator || !flowrun) ? null : flowrun.id,\n      },\n      position: {\n        x: 0,\n        y: 0\n      }\n    }\n  })\n  \n  const elements = [...nodes, ...input_channels, ...edges]\n  // console.log(elements)\n  return elements\n}\n\n\nconst dagreGraph = new graphlib.Graph();\ndagreGraph.setDefaultEdgeLabel(() => ({}));\n\n// In order to keep this example simple the node width and height are hardcoded.\n// In a real world app you would use the correct width and height values of\n// const nodes = useStoreState(state => state.nodes) and then node.__rf.width, node.__rf.height\n\n\n// @ts-ignore\nconst getLayoutedElements = (elements, direction = 'TB') => {\n  const isHorizontal = direction === 'LR';\n  dagreGraph.setGraph({rankdir: direction});\n  \n  elements.forEach((el: any) => {\n    if (isNode(el)) {\n      // @ts-ignore\n      dagreGraph.setNode(el.id, {width: el.data.width, height: el.data.height});\n    } else {\n      dagreGraph.setEdge(el.source, el.target);\n    }\n  });\n  \n  layout(dagreGraph);\n  \n  return elements.map((el: any) => {\n    if (isNode(el)) {\n      const nodeWithPosition = dagreGraph.node(el.id);\n      el.targetPosition = isHorizontal ? Position.Left : Position.Top;\n      el.sourcePosition = isHorizontal ? Position.Right : Position.Bottom;\n      \n      // unfortunately we need this little hack to pass a slighltiy different position\n      // to notify react flow about the change. More over we are shifting the dagre node position\n      // (anchor=center center) to the top left so it matches the react flow node anchor point (top left).\n      // @ts-ignore\n      // @ts-ignore\n      el.position = {\n        x: nodeWithPosition.x - el.data.width / 2 + Math.random() / 1000,\n        y: nodeWithPosition.y - el.data.height / 2,\n      };\n    }\n    \n    return el;\n  });\n};\n\n\n// @ts-ignore\nfunction GraphView({flow, flowrun}) {\n  const classes = useStyles()\n  const [flowInstance, setFlowInstance] = useState(null)\n  const [elements, setElements] = useState([])\n  \n  \n  useEffect(() => {\n    const elements = resolve_flow(flow, flowrun)\n    const layoutedElements = getLayoutedElements(elements, \"LR\")\n    // @ts-ignore\n    setElements(layoutedElements)\n  }, [flow, flowrun])\n  \n  \n  useEffect(() => {\n    if (flowInstance && elements.length > 0) {\n      // @ts-ignore\n      flowInstance.fitView()\n    }\n  }, [flow, elements.length])\n  \n  const onConnect = useCallback(\n    (params) => {\n      return\n    }\n    , []\n  )\n  \n  const onLoad = useCallback(\n    (flow) => {\n      if (!flowInstance) {\n        setFlowInstance(flow)\n      }\n    },\n    [flowInstance]\n  )\n  \n  const onLayout = useCallback(\n    (direction) => {\n      const layoutedElements = getLayoutedElements(elements, direction);\n      setElements(layoutedElements);\n    },\n    [elements]\n  );\n  \n  // @ts-ignore\n  return (\n    <Box height=\"100%\" width=\"100%\">\n      <ReactFlowProvider>\n        <ReactFlow\n          elements={elements}\n          onConnect={onConnect}\n          onLoad={onLoad}\n          nodeTypes={nodeTypes}\n          connectionLineStyle={connectionLineStyle}\n          connectionLineType={ConnectionLineType.SmoothStep}\n          snapToGrid={true}\n          snapGrid={[2, 2]}\n          defaultZoom={1}\n          onlyRenderVisibleElements={true}\n        >\n          \n          <MiniMap\n            // @ts-ignore\n            nodeStrokeColor={(n: any) => {\n              if (n.type === 'taskNode') return '#3474e0';\n              if (n.type === 'operatorNode') return '#ff6f00';\n              if (n.type === 'channelNode') return 'red';\n              return '#fff';\n            }}\n            // @ts-ignore\n            nodeColor={(n: any) => {\n              if (n.type === 'taskNode') return '#3474e0';\n              if (n.type === 'operatorNode') return '#ff6f00';\n              if (n.type === 'channelNode') return '#455064';\n              return '#fff';\n            }}\n          >\n          </MiniMap>\n          <Controls>\n            <ControlButton onClick={() => onLayout('LR')}>\n              <VerticalSplitIcon/>\n            </ControlButton>\n            <ControlButton onClick={() => onLayout('TB')}>\n              <HorizontalSplitIcon/>\n            </ControlButton>\n          </Controls>\n        </ReactFlow>\n      \n      </ReactFlowProvider>\n    </Box>\n  )\n}\n\nexport default GraphView\n","import React from \"react\";\nimport GraphView from \"../graph/graphview\"\n\n\n// @ts-ignore\nfunction Graph(props) {\n  return (\n    <GraphView {...props}/>\n  )\n}\n\nexport default Graph;","import React from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport {useQuery} from '@apollo/client'\nimport {GET_RUNLOGS} from \"../graphql\";\n\n\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport {createStyles, makeStyles} from '@material-ui/core/styles';\nimport {DataGrid, GridCellParams, GridColDef, GridToolbar, isOverflown,} from '@material-ui/data-grid';\n\ninterface GridCellExpandProps {\n  value: string;\n  width: number;\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      alignItems: 'center',\n      lineHeight: '24px',\n      width: '100%',\n      height: '100%',\n      position: 'relative',\n      display: 'flex',\n      '& .cellValue': {\n        whiteSpace: 'nowrap',\n        overflow: 'auto',\n        textOverflow: 'ellipsis',\n      },\n    },\n  }),\n);\n\nconst GridCellExpand = React.memo(function GridCellExpand(\n  props: GridCellExpandProps,\n) {\n  const {width, value} = props;\n  const wrapper = React.useRef<HTMLDivElement | null>(null);\n  const cellDiv = React.useRef(null);\n  const cellValue = React.useRef(null);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const classes = useStyles();\n  const [showFullCell, setShowFullCell] = React.useState(false);\n  const [showPopper, setShowPopper] = React.useState(false);\n  \n  const handleMouseEnter = () => {\n    const isCurrentlyOverflown = isOverflown(cellValue.current!);\n    setShowPopper(isCurrentlyOverflown);\n    setAnchorEl(cellDiv.current);\n    setShowFullCell(true);\n  };\n  \n  const handleMouseLeave = () => {\n    setShowFullCell(false);\n  };\n  \n  React.useEffect(() => {\n    if (!showFullCell) {\n      return undefined;\n    }\n    \n    function handleKeyDown(nativeEvent: KeyboardEvent) {\n      // IE11, Edge (prior to using Bink?) use 'Esc'\n      if (nativeEvent.key === 'Escape' || nativeEvent.key === 'Esc') {\n        setShowFullCell(false);\n      }\n    }\n    \n    document.addEventListener('keydown', handleKeyDown);\n    \n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [setShowFullCell, showFullCell]);\n  \n  return (\n    <div\n      ref={wrapper}\n      className={classes.root}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <div\n        ref={cellDiv}\n        style={{\n          height: 1,\n          width,\n          display: 'block',\n          position: 'absolute',\n          top: 0,\n        }}\n      />\n      <div ref={cellValue} className=\"cellValue\">\n        {value}\n      </div>\n      {showPopper && (\n        <Popper\n          open={showFullCell && anchorEl !== null}\n          anchorEl={anchorEl}\n          style={{width, marginLeft: -17}}\n        >\n          <Paper\n            elevation={1}\n            style={{minHeight: wrapper.current!.offsetHeight - 3}}\n          >\n            <Typography variant=\"body2\" style={{padding: 8, overflowWrap: \"anywhere\"}}>\n              {value}\n            </Typography>\n          </Paper>\n        </Popper>\n      )}\n    </div>\n  );\n});\n\nfunction renderCellExpand(params: GridCellParams) {\n  return (\n    <GridCellExpand\n      value={params.value ? params.value.toString() : ''}\n      width={400}\n    />\n  );\n}\n\n\nconst columns: GridColDef[] = [\n  {field: 'level', headerName: \"Level\"},\n  {field: 'message', headerName: \"Message\", flex: 1, renderCell: renderCellExpand},\n  {field: 'time', headerName: \"Time\", type: \"number\"},\n  {field: 'id', headerName: \"ID\"},\n  {field: 'task_id', headerName: \"TaskID\", hide: true},\n  {field: 'flow_id', headerName: \"FlowID\", hide: true},\n  {field: 'taskrun_id', headerName: \"TaskRunID\", hide: true},\n  {field: 'flowrun_id', headerName: \"FlowRunID\", hide: true},\n  {field: 'agent_id', headerName: \"AgentID\", hide: true},\n]\n\n\nfunction Filter() {\n  return (\n    <Paper>\n      Logs filter\n    </Paper>\n  )\n}\n\n// @ts-ignore\nfunction LogsPanel({flow, flowrun}) {\n  const {loading, error, data} = useQuery(GET_RUNLOGS, {\n    variables: {\n      input: {\n        flowrun_id: flowrun ? [flowrun.id] : [\"NoSuchId\"],\n      },\n    },\n  });\n  \n  return (\n    <Box height=\"100%\">\n      <Filter/>\n      <Box height=\"80%\" style={{overflow: \"auto\"}}>\n        <DataGrid\n          rows={loading ? [] : data.get_runlogs}\n          columns={columns}\n          autoHeight={true}\n          loading={true}\n          components={{\n            Toolbar: GridToolbar\n          }}\n        />\n      </Box>\n    </Box>\n  )\n}\n\nexport default LogsPanel;","import React, {useEffect, useState} from \"react\";\nimport {Box, createStyles, Grid, makeStyles, Theme, Typography} from \"@material-ui/core\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_TASKRUNS} from \"../graphql\"\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\n\nconst DUMMY_TASKRUNS = Array(15).fill(null);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    taskrunsPanel: {\n      height: \"100%\"\n    },\n    panel: {},\n    grid: {\n      flex: \"1 1 auto\",\n      overflowY: \"auto\"\n    },\n    gridItem: {\n      width: \"100%\"\n    },\n  })\n)\n\nconst useTaskStyles = makeStyles((theme: Theme) =>\n  createStyles({})\n)\n\n\n// @ts-ignore\nfunction TaskRun({taskrun, activeTaskrun, setTaskrun}) {\n  let className = `tensorsite-card ${activeTaskrun && (activeTaskrun.id === taskrun.id) ? \"active\" : \"\"}`\n  return (\n    <Box className={className} height=\"100px\">\n      <Box className=\"tensorsite-content\" height=\"100%\" onClick={() => setTaskrun(taskrun)}>\n        {taskrun.id}\n      </Box>\n    </Box>\n  )\n  \n}\n\n// @ts-ignore\nfunction TaskRuns({flowrun, task}) {\n  const classes = useStyles()\n  const [taskrun, setTaskrun] = useState(null)\n  const {data, loading, error, startPolling, stopPolling} = useQuery(GET_TASKRUNS, {\n    variables: {\n      input: {\n        flowrun_id: flowrun ? [flowrun.id] : [\"NOT_SET\"],\n        task_id: task ? [task.id] : [\"NOT_SET\"]\n      },\n    },\n  })\n  \n  useEffect(() => {\n    if (flowrun && task)\n      startPolling(2000);\n    return () => {\n      stopPolling()\n    }\n  }, [flowrun, task]);\n  \n  \n  const taskruns = (flowrun && task) ? ((loading || error) ? DUMMY_TASKRUNS : data.get_taskruns) : []\n  \n  const TaskRunsPanel = (\n    <Grid className={classes.taskrunsPanel} container direction=\"column\" wrap=\"nowrap\">\n      <Grid className={classes.panel} item>\n        <Box height={\"50px\"}>\n          <Typography variant={\"h5\"}>TaskRuns</Typography>\n        </Box>\n      </Grid>\n      <Grid className={classes.grid} item container direction=\"column\" wrap=\"nowrap\">\n        {\n          taskruns.map((curTaskrun: any, index: number) => (\n            curTaskrun ? (\n              <Grid item key={curTaskrun.id}>\n                <TaskRun taskrun={curTaskrun} setTaskrun={setTaskrun} activeTaskrun={taskrun}/>\n              </Grid>\n            ) : (\n              <Grid item key={index}>\n                <Box height=\"100px\">\n                  <Skeleton variant=\"text\" width={\"40%\"}/>\n                  <Skeleton variant=\"text\"/>\n                  <Skeleton variant=\"rect\" height={\"60%\"}/>\n                </Box>\n              </Grid>\n            )\n          ))\n        }\n      </Grid>\n    </Grid>\n  )\n  \n  return (\n    <Box height={\"100%\"} width={\"100\"}>\n      {TaskRunsPanel}\n    </Box>\n  )\n  \n}\n\n\nexport default TaskRuns;","import React, {useEffect, useState} from \"react\"\nimport Box from \"@material-ui/core/Box\";\nimport SplitPane from \"react-split-pane\";\nimport {createStyles, Grid, makeStyles, Theme, Typography} from \"@material-ui/core\";\nimport TaskRuns from \"./taskruns\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    tasksPanel: {\n      height: \"100%\"\n    },\n    panel: {},\n    grid: {\n      flex: \"1 1 auto\",\n      overflowY: \"auto\"\n    },\n    gridItem: {\n      width: \"100%\"\n    },\n  })\n)\n\nconst useTaskStyles = makeStyles((theme: Theme) =>\n  createStyles({})\n)\n\n\n// @ts-ignore\nfunction Task({task, setTask, activeTask}) {\n  const classes = useTaskStyles()\n  let className = `tensorsite-card ${activeTask && (activeTask.id === task.id) ? \"active\" : \"\"}`\n  return (\n    <Box className={className} height=\"100px\">\n      <Box className=\"tensorsite-content\" height=\"100%\" onClick={() => setTask(task)}>\n        {task.name}\n      </Box>\n    </Box>\n  )\n}\n\n\n// @ts-ignore\nfunction Tasks({flow, flowrun}) {\n  const classes = useStyles()\n  const [task, setTask] = useState(null)\n  let all_tasks = flow ? flow.tasks : []\n  // @ts-ignore\n  const tasks = all_tasks.filter((task) => !task.name.startsWith(\"Operator\"))\n  \n  useEffect(() => {\n    if (!task && tasks.length > 0) {\n      setTask(flow.tasks[0])\n    } else if (!flow) {\n      setTask(null)\n    }\n  }, [flow])\n  \n  const TasksPanel = (\n    <Grid className={classes.tasksPanel} container direction=\"column\" wrap=\"nowrap\">\n      <Grid className={classes.panel} item>\n        <Box height={\"50px\"}>\n          <Typography variant={\"h5\"}>Tasks</Typography>\n        </Box>\n      </Grid>\n      <Grid className={classes.grid} item container direction=\"column\" wrap=\"nowrap\">\n        {\n          tasks.map((curTask: any) =>\n            (\n              <Grid item key={curTask.id}>\n                <Task task={curTask} activeTask={task} setTask={setTask}/>\n              </Grid>\n            )\n          )\n        }\n      </Grid>\n    </Grid>\n  )\n  return (\n    <Box height={\"100%\"} width={\"100%\"}>\n      <SplitPane split=\"vertical\" defaultSize=\"50%\" maxSize={600} minSize={100} style={{height: \"100%\"}}>\n        <Box height=\"100%\">\n          {TasksPanel}\n        </Box>\n        <Box height=\"100%\">\n          <TaskRuns flowrun={flowrun} task={task}/>\n        </Box>\n      </SplitPane>\n    \n    </Box>\n  )\n}\n\n\nexport default Tasks;\n\n\n\n","import React from 'react';\nimport {makeStyles, Theme} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\nimport Graph from \"./graph\";\nimport LogsPanel from \"./logs\"\nimport Tasks from \"./tasks\"\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: any;\n  value: any;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const {children, value, index, ...other} = props;\n  \n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n      style={{height: \"100%\"}}\n    >\n      {value === index && (\n        <Box height=\"100%\">\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nfunction a11yProps(index: any) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n}));\n\n// @ts-ignore\nexport default function ShowPanel({flow, flowrun}) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n  \n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n    setValue(newValue);\n  };\n  \n  return (\n    <Box className={classes.root} height=\"100%\">\n      <AppBar position=\"static\">\n        <Tabs value={value} onChange={handleChange}>\n          <Tab label=\"Graph\" {...a11yProps(0)} />\n          <Tab label=\"Tasks\" {...a11yProps(1)} />\n          <Tab label=\"Logs\" {...a11yProps(2)} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <Graph flow={flow} flowrun={flowrun}/>\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <Tasks flow={flow} flowrun={flowrun}/>\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <LogsPanel flow={flow} flowrun={flowrun}/>\n      </TabPanel>\n    </Box>\n  );\n}\n","import React, {useEffect, useState} from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport {Box, createStyles, Grid, makeStyles, Theme, Typography} from \"@material-ui/core\";\nimport FlowRun from \"./flowrun\";\nimport SplitPane from \"react-split-pane\";\nimport ShowPanel from \"./show/show\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    flowrunsPanel: {\n      height: \"100%\"\n    },\n    panel: {},\n    grid: {\n      flex: \"1 1 auto\",\n      overflowY: \"auto\"\n    },\n    gridItem: {\n      width: \"100%\"\n    },\n  })\n)\n\n// @ts-ignore\nfunction FlowRuns({flow, flowruns}) {\n  const classes = useStyles()\n  \n  const [flowrun, setFlowrun] = useState(null)\n  // any other way?\n  useEffect(() => {\n    setFlowrun(null)\n  }, [flow])\n  console.log(flowrun)\n  \n  const FlowRunsPanel = (\n    <Grid className={classes.flowrunsPanel} container direction=\"column\" wrap=\"nowrap\">\n      <Grid className={classes.panel} item>\n        <Box height={\"50px\"}>\n          <Typography variant={\"h4\"}>Flow Runs</Typography>\n        </Box>\n      </Grid>\n      <Grid className={classes.grid} item container direction=\"column\" wrap=\"nowrap\">\n        {\n          flowruns.map((curFlowrun: any, index: number) => (\n            curFlowrun ? (\n              <Grid item key={curFlowrun.id}>\n                <FlowRun flowrun={curFlowrun} setFlowRun={setFlowrun} activeFlowrun={flowrun}/>\n              </Grid>\n            ) : (\n              <Grid item key={index}>\n                <Box height=\"100px\">\n                  <Skeleton variant=\"text\" width={\"40%\"}/>\n                  <Skeleton variant=\"text\"/>\n                  <Skeleton variant=\"rect\" height={\"60%\"}/>\n                </Box>\n              </Grid>\n            )\n          ))\n        }\n      </Grid>\n    </Grid>\n  )\n  \n  return (\n    <SplitPane split=\"vertical\" defaultSize=\"15vw\" maxSize={300} minSize={100}>\n      <Box height=\"100%\">\n        {FlowRunsPanel}\n      </Box>\n      <Box height=\"100%\">\n        <ShowPanel flow={flow} flowrun={flowrun}/>\n      </Box>\n    </SplitPane>\n  )\n}\n\nexport default FlowRuns","import React from \"react\";\nimport {emphasize, withStyles} from '@material-ui/core/styles';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Chip from '@material-ui/core/Chip';\n\n\nconst StyledBreadcrumb = withStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.grey[100],\n    height: theme.spacing(3),\n    color: theme.palette.grey[800],\n    fontWeight: theme.typography.fontWeightRegular,\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.grey[300],\n    },\n    '&:active': {\n      boxShadow: theme.shadows[1],\n      backgroundColor: emphasize(theme.palette.grey[300], 0.12),\n    },\n  },\n}))(Chip) as typeof Chip;\n\n\nfunction Path(props: { pathList: any, onClick: any }) {\n  const {pathList, onClick} = props\n  \n  \n  return (\n    <Breadcrumbs>\n      {pathList.map((path: any) =>\n        <StyledBreadcrumb\n          key={path.label}\n          component=\"a\"\n          href={path.link}\n          label={path.label}\n          icon={path.icon}\n          onClick={onClick(path.label)}\n        />\n      )}\n    </Breadcrumbs>\n  )\n}\n\n\nexport default Path;","import React, {useEffect, useState} from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport {createStyles, Grid, makeStyles, Theme, Typography} from \"@material-ui/core\";\nimport {useQuery} from '@apollo/client'\nimport Flow from \"./flow\";\nimport {GET_FLOWRUNS} from \"./graphql\";\nimport \"../style/App.css\"\nimport SplitPane from \"react-split-pane\";\nimport FlowRuns from \"./flowruns\";\nimport Path from \"./path\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Skeleton from '@material-ui/lab/Skeleton';\n\n\nconst DUMMY_FLOWRUNS = Array(15).fill(null);\n\nconst defaultPathList = [\n  {\n    link: '#',\n    label: \"Home\",\n    icon: <HomeIcon/>\n  },\n  {\n    link: null,\n    label: 'Flow',\n    icon: <ExpandMoreIcon/>\n  },\n  {\n    link: null,\n    label: 'Task',\n    icon: <ExpandMoreIcon/>\n  },\n  {\n    link: null,\n    label: 'FlowRun',\n    icon: <ExpandMoreIcon/>\n  },\n  {\n    link: null,\n    label: 'TaskRun',\n    icon: <ExpandMoreIcon/>\n  }\n]\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    flowsPanel: {\n      height: \"100%\"\n    },\n    panel: {},\n    grid: {\n      flex: \"1 1 auto\",\n      overflowY: \"auto\"\n    },\n    gridItem: {\n      width: \"100%\"\n    },\n  })\n)\n\n// @ts-ignore\nfunction Flows({flows}) {\n  const classes = useStyles()\n  const [flow, setFlow] = useState(null)\n  const [pathList, setPathList] = useState(defaultPathList)\n  // @ts-ignore\n  const flow_ids = flow ? [flow.id] : []\n  const {loading, error, data, startPolling, stopPolling} = useQuery(GET_FLOWRUNS, {\n    variables: {\n      input: {\n        flow_id: flow_ids\n      },\n    },\n    // pollInterval: 4000,\n  });\n  \n  useEffect(() => {\n    startPolling(4000);\n    return () => {\n      stopPolling()\n    }\n  }, []);\n  \n  const onPathLickClickHandler = (label: string) => {\n    // const clickedPath = pathList.find((path) => path.label === label)\n    // if (clickedPath !== undefined) {\n    //   const index = pathList.indexOf(clickedPath);\n    //   const newPathList = pathList.slice(0, index + 1)\n    //   setPathList(newPathList)\n    // }\n  }\n  const FlowsPanel = (\n    <Grid className={classes.flowsPanel} container direction=\"column\" wrap=\"nowrap\">\n      <Grid className={classes.panel} item>\n        <Box height={\"50px\"}>\n          <Typography variant={\"h4\"}>Flows</Typography>\n        </Box>\n      </Grid>\n      <Grid className={classes.grid} item container direction=\"column\" wrap=\"nowrap\">\n        {\n          flows.map((curFlow: any, index: number) =>\n            (\n              curFlow ? (\n                <Grid item key={curFlow.id}>\n                  <Flow flow={curFlow} activeFlow={flow} setFlow={setFlow}/>\n                </Grid>\n              ) : (\n                <Grid item key={index}>\n                  <Box height=\"100px\">\n                    <Skeleton variant=\"text\" width={\"40%\"}/>\n                    <Skeleton variant=\"text\"/>\n                    <Skeleton variant=\"rect\" height={\"60%\"}/>\n                  </Box>\n                </Grid>\n              )\n            )\n          )\n        }\n      </Grid>\n    </Grid>\n  )\n  \n  return (\n    <Box height=\"100%\">\n      <Box height=\"8vh\">\n        <Path pathList={pathList} onClick={onPathLickClickHandler}/>\n      </Box>\n      <Box height=\"80vh\">\n        <SplitPane split=\"vertical\" defaultSize=\"15vw\" maxSize={300} minSize={100} style={{height: \"80vh\"}}>\n          <Box height=\"100%\">\n            {FlowsPanel}\n          </Box>\n          <Box height=\"100%\">\n            <FlowRuns flow={flow} flowruns={(loading || error) ? DUMMY_FLOWRUNS : data.get_flowruns}/>\n          </Box>\n        </SplitPane>\n      \n      </Box>\n    </Box>\n  )\n}\n\nexport default Flows;\n","import React from \"react\";\nimport Box from '@material-ui/core/Box';\nimport \"../style/resizer.css\"\nimport Flows from \"./flows\"\n\n\nimport {useQuery} from '@apollo/client';\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core\";\nimport {GET_FLOWS} from \"./graphql\";\n\nconst DUMMY_FLOWS = Array(15).fill(null)\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    panel: {\n      height: \"100%\",\n      width: \"100%\"\n    }\n  })\n);\n\n\nfunction Main() {\n  const classes = useStyles()\n  \n  \n  const {loading, error, data} = useQuery(GET_FLOWS, {\n    variables: {\n      input: {},\n    },\n    pollInterval: 5000,\n  });\n  \n  \n  return (\n    <Box height=\"100%\" width=\"100%\">\n      <Flows flows={(loading || error) ? DUMMY_FLOWS : data.get_flows}/>\n    </Box>\n  \n  )\n}\n\nexport default Main\n\n","import React, {useState} from \"react\";\nimport Box from \"@material-ui/core/Box\"\nimport {createStyles, Divider, makeStyles, Theme} from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Paper from \"@material-ui/core/Paper\"\nimport InputBase from \"@material-ui/core/InputBase\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CenterFocusStrongIcon from '@material-ui/icons/CenterFocusStrong';\n\n\nconst useServerChooserStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: '2px 4px',\n      display: 'flex',\n      alignItems: 'center',\n      width: 200,\n      flexDirection: \"row\",\n      zIndex: 999999999999\n    },\n    input: {\n      flex: 1\n    },\n    iconButton: {\n      padding: 10\n    },\n    divider: {\n      height: 28,\n      margin: 4\n    }\n  })\n)\n\n\nconst useHeaderStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1\n    },\n    menuButton: {\n      marginRight: theme.spacing(2)\n    },\n    title: {\n      flexGrow: 1,\n    }\n  })\n)\n\n\n// @ts-ignore\nfunction ServerChooser({server, setServer}) {\n  const classes = useServerChooserStyles()\n  const [inputServer, setInputServer] = useState(server)\n  \n  \n  const onChangeHandler = (e: any) => {\n    setInputServer(e.target.value)\n  }\n  \n  const onClickHandler = () => {\n    setServer(inputServer)\n  }\n  \n  return (\n    <Paper className={classes.root}>\n      <IconButton className={classes.iconButton}>\n        <MenuIcon/>\n      </IconButton>\n      <InputBase\n        className={classes.input}\n        placeholder=\"Server address\"\n        defaultValue={server}\n        onChange={onChangeHandler}\n      />\n      <Divider className={classes.divider} orientation=\"vertical\"/>\n      <IconButton color=\"primary\" className={classes.iconButton} onClick={onClickHandler}>\n        <CenterFocusStrongIcon/>\n      </IconButton>\n    </Paper>\n  )\n}\n\n// @ts-ignore\nfunction Header({server, setServer}) {\n  const classes = useHeaderStyles()\n  return (\n    <Box className={classes.root}>\n      <AppBar position=\"fixed\" color=\"secondary\">\n        <Toolbar>\n          <IconButton edge=\"start\" className={classes.menuButton}>\n            <MenuIcon/>\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            Flowsaber\n          </Typography>\n          <ServerChooser server={server} setServer={setServer}/>\n        </Toolbar>\n      </AppBar>\n    </Box>\n  )\n}\n\nexport default Header","import {createMuiTheme} from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#ff6f00\"\n    },\n    secondary: {\n      main: \"#fff\",\n    },\n  },\n  typography: {\n    // In Chinese and Japanese the characters are usually larger,\n    // so a smaller fontsize may be appropriate.\n    fontSize: 15,\n  },\n  \n});\n\n\nexport default theme","import React, {useState} from 'react';\nimport './style/App.css';\nimport Main from \"./panel/main\"\nimport Box from \"@material-ui/core/Box\";\nimport Header from \"./panel/header\";\nimport {ApolloClient, ApolloProvider, InMemoryCache} from \"@apollo/client\";\nimport {ThemeProvider} from '@material-ui/core/styles';\nimport theme from \"./panel/theme\"\n\n\nfunction App() {\n  const [server, setServer] = useState(\"https://flowsaber.herokuapp.com/graphql/\")\n  const client = new ApolloClient({\n    uri: server,\n    cache: new InMemoryCache()\n  })\n  return (\n    <ThemeProvider theme={theme}>\n      <Box className=\"App\" height=\"100vh\">\n        <Box height=\"10vh\">\n          <Header server={server} setServer={setServer}/>\n        </Box>\n        <ApolloProvider client={client}>\n          <Main/>\n        </ApolloProvider>\n      </Box>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}